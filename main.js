(()=>{"use strict";class e{constructor(){this.columnTodo=document.querySelector(".todo"),this.columnInProgress=document.querySelector(".in_progress"),this.columnDone=document.querySelector(".done")}static renderCard(e,t){const n=document.createElement("div"),o=document.createElement("p");n.classList.add("card"),o.classList.add("card_text"),o.textContent=t,e.querySelector(".add_card").parentNode.insertBefore(n,e.querySelector(".add_card")),n.prepend(o)}defaultContent(e){return e===this.columnTodo?["Welcome to Trello!","This is a card","Click on a card to see what's behind it"]:e===this.columnInProgress?["Invite your team to this board using the Add Members button","Drag people onto a card to indicate that they're responsible for it"]:e===this.columnDone?["To learn more tricks, check out the guide","Use as many boards as you want. We'll make more!"]:null}actionDefault(){this.defaultContent(this.columnTodo).forEach((t=>{e.renderCard(this.columnTodo,t)})),this.defaultContent(this.columnInProgress).forEach((t=>{e.renderCard(this.columnInProgress,t)})),this.defaultContent(this.columnDone).forEach((t=>{e.renderCard(this.columnDone,t)}))}}(new e).actionDefault(),document.querySelectorAll(".add_card").forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault(),t.parentElement.insertBefore(function(){const t=document.createElement("div"),n=document.createElement("h2");n.textContent="Create todo",t.classList.add("new-card");const o=document.createElement("textarea");o.textContent=o.value,o.classList.add("textarea");const c=document.createElement("div");c.classList.add("container_buttons");const r=document.createElement("button");r.classList.add("btn_add"),r.textContent="add task";const s=document.createElement("button");return s.classList.add("btn_close"),r.addEventListener("click",(()=>{if(o.value.trim()){const n=document.querySelector(".".concat(t.parentElement.className.slice(7)));e.renderCard(n,o.value),t.remove(),n.querySelector(".add_card").classList.remove("vissualy-hidden")}else o.value=""})),s.addEventListener("click",(()=>{const e=document.querySelector(".".concat(t.parentElement.className.slice(7)));t.remove(),e.querySelector(".add_card").classList.remove("vissualy-hidden")})),c.append(r),c.append(s),s.textContent="x",t.append(n),t.append(o),t.append(c),t.append(c),t}(),t),t.classList.add("vissualy-hidden")}))}));const t=e=>{const t=e.target.closest(".card");if(t){const e=t.closest(".column"),n=function(){const e=document.createElement("div");return e.classList.add("closed_card"),e.textContent="â•³",e}(),{width:o}=t.getBoundingClientRect();n.style.top="".concat(t.offsetTop+2,"px"),n.style.left="".concat(o+t.offsetLeft-17,"px"),e.querySelector(".closed_card")||(n.addEventListener("click",(()=>{t.remove(),n.remove()})),e.insertAdjacentElement("afterbegin",n))}document.querySelector(".closed_card")&&!t&&e.target!==document.querySelector(".closed_card")&&document.querySelector(".closed_card").remove()};let n;const o=e=>{if(document.querySelector(".shadow_container")&&!e.target.classList.contains("shadow_container")&&document.querySelector(".shadow_container").remove(),n.style.left="".concat(e.clientX,"px"),n.style.top="".concat(e.clientY,"px"),e.target.classList.contains("card")||e.target.classList.contains("title")){const{y:t,height:o}=e.target.getBoundingClientRect(),c=function(e){const t=document.createElement("div"),{width:n,height:o}=e.getBoundingClientRect();return t.classList.add("shadow_container"),t.style.width="".concat(n,"px"),t.style.height="".concat(o,"px"),t}(n);let r;t+o/2>e.clientY&&!e.target.classList.contains("title")&&(document.querySelector(".shadow_container")&&document.querySelector(".shadow_container").remove(),r=e.target.previousElementSibling.closest(".card")||e.target.previousElementSibling.closest(".title"),r&&r.insertAdjacentElement("afterend",c)),t+o/2<e.clientY&&(document.querySelector(".shadow_container")&&document.querySelector(".shadow_container").remove(),r=e.target.nextElementSibling.closest(".card")||e.target.nextElementSibling.closest(".add_card"),r&&r.insertAdjacentElement("beforebegin",c))}},c=e=>{const r=e.target.closest(".column");if(e.target.classList.contains("shadow_container")||document.querySelector(".shadow_container")){const e=r.querySelector(".shadow_container");r.insertBefore(n,e)}n.style.width=null,n.style.height=null,n.classList.remove("dragged"),n=void 0,document.querySelector(".shadow_container")&&document.querySelector(".shadow_container").remove(),document.querySelector(".app_container").classList.remove("allocation"),document.documentElement.removeEventListener("mouseup",c),document.documentElement.removeEventListener("mousemove",o),document.addEventListener("mousemove",t)};document.querySelectorAll(".column").forEach((e=>{e.addEventListener("mousemove",t),e.addEventListener("mousedown",(e=>{if(e.target.closest(".card")){document.querySelector(".app_container").classList.add("allocation"),n=e.target.closest(".card");const{width:r,height:s,top:a,left:d}=n.getBoundingClientRect();n.classList.add("dragged"),n.style.top="".concat(a,"px"),n.style.left="".concat(d,"px"),n.style.width="".concat(r,"px"),n.style.height="".concat(s,"px"),document.documentElement.removeEventListener("mousemove",t),document.documentElement.addEventListener("mousemove",o),document.documentElement.addEventListener("mouseup",c)}}))}))})();
//# sourceMappingURL=main.js.map