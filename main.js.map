{"version":3,"file":"main.js","mappings":"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","sources":["webpack://dnd/./src/js/CardManager.js","webpack://dnd/./src/js/app.js"],"sourcesContent":["export default class CardManager {\n  constructor() {\n    this.columnTodo = document.querySelector('.todo');\n    this.columnInProgress = document.querySelector('.in_progress');\n    this.columnDone = document.querySelector('.done');\n  }\n\n  static renderCard(column, text) {\n    const containerCard = document.createElement('div');\n    const textCard = document.createElement('p');\n\n    containerCard.classList.add('card');\n    textCard.classList.add('card_text');\n\n    textCard.textContent = text;\n\n    column.querySelector('.add_card').parentNode.insertBefore(containerCard, column.querySelector('.add_card'));\n    containerCard.prepend(textCard);\n  }\n\n  defaultContent(column) {\n    if (column === this.columnTodo) {\n      return ['Welcome to Trello!', 'This is a card', \"Click on a card to see what's behind it\"];\n    }\n    if (column === this.columnInProgress) {\n      return ['Invite your team to this board using the Add Members button', \"Drag people onto a card to indicate that they're responsible for it\"];\n    }\n    if (column === this.columnDone) {\n      return ['To learn more tricks, check out the guide', \"Use as many boards as you want. We'll make more!\"];\n    }\n    return null;\n  }\n\n  actionDefault() {\n    this.defaultContent(this.columnTodo).forEach((el) => {\n      CardManager.renderCard(this.columnTodo, el);\n    });\n    this.defaultContent(this.columnInProgress).forEach((el) => {\n      CardManager.renderCard(this.columnInProgress, el);\n    });\n    this.defaultContent(this.columnDone).forEach((el) => {\n      CardManager.renderCard(this.columnDone, el);\n    });\n  }\n}\n","import Render from './CardManager';\n\n// base todo card\nconst render = new Render();\nrender.actionDefault();\n\nconst addNewTask = document.querySelectorAll('.add_card');\n\nfunction createAddCard() {\n  const div = document.createElement('div');\n  const h2 = document.createElement('h2');\n  h2.textContent = 'Create todo';\n  div.classList.add('new-card');\n  const textarea = document.createElement('textarea');\n  textarea.textContent = textarea.value;\n  textarea.classList.add('textarea');\n  const containerButton = document.createElement('div');\n  containerButton.classList.add('container_buttons');\n  const buttonAdd = document.createElement('button');\n  buttonAdd.classList.add('btn_add');\n  buttonAdd.textContent = 'add task';\n  const buttonClose = document.createElement('button');\n  buttonClose.classList.add('btn_close');\n  buttonAdd.addEventListener('click', () => {\n    if (textarea.value.trim()) {\n      const column = document.querySelector(`.${div.parentElement.className.slice(7)}`);\n      Render.renderCard(column, textarea.value);\n      div.remove();\n      column.querySelector('.add_card').classList.remove('vissualy-hidden');\n    } else {\n      textarea.value = '';\n    }\n  });\n  buttonClose.addEventListener('click', () => {\n    const column = document.querySelector(`.${div.parentElement.className.slice(7)}`);\n    div.remove();\n    column.querySelector('.add_card').classList.remove('vissualy-hidden');\n  });\n  containerButton.append(buttonAdd);\n  containerButton.append(buttonClose);\n  buttonClose.textContent = 'x';\n  div.append(h2);\n  div.append(textarea);\n  div.append(containerButton);\n  div.append(containerButton);\n  return div;\n}\n\n// button add card\n\naddNewTask.forEach((el) => {\n  el.addEventListener('click', (e) => {\n    e.preventDefault();\n    el.parentElement.insertBefore(createAddCard(), el);\n    el.classList.add('vissualy-hidden');\n  });\n});\n\nfunction createClosedElement() {\n  const div = document.createElement('div');\n  div.classList.add('closed_card');\n  div.textContent = '\\u2573';\n\n  return div;\n}\n\nfunction createShadowElement(element) {\n  const div = document.createElement('div');\n  const { width, height } = element.getBoundingClientRect();\n\n  div.classList.add('shadow_container');\n\n  div.style.width = `${width}px`;\n  div.style.height = `${height}px`;\n  return div;\n  // const {width, height} = element.style;\n}\n\nconst cardInFocus = (e) => {\n  const activeCard = e.target.closest('.card');\n  if (activeCard) {\n    const columnInFokus = activeCard.closest('.column');\n    const closed = createClosedElement();\n\n    const { width } = activeCard.getBoundingClientRect();\n\n    closed.style.top = `${activeCard.offsetTop + 2}px`;\n    closed.style.left = `${width + activeCard.offsetLeft - 17}px`;\n\n    if (!columnInFokus.querySelector('.closed_card')) {\n      closed.addEventListener('click', () => {\n        activeCard.remove();\n        closed.remove();\n      });\n\n      columnInFokus.insertAdjacentElement('afterbegin', closed);\n    }\n  }\n\n  if (document.querySelector('.closed_card') && !activeCard && e.target !== document.querySelector('.closed_card')) {\n    document.querySelector('.closed_card').remove();\n  }\n};\n\nlet actualElement;\n\nconst onMouseMove = (e) => {\n  if (document.querySelector('.shadow_container') && !e.target.classList.contains('shadow_container')) {\n    document.querySelector('.shadow_container').remove();\n  }\n  actualElement.style.left = `${e.clientX}px`;\n  actualElement.style.top = `${e.clientY}px`;\n\n  if (e.target.classList.contains('card') || e.target.classList.contains('title')) {\n    const { y, height } = e.target.getBoundingClientRect();\n\n    const shadowElement = createShadowElement(actualElement);\n    let shadowContainer;\n\n    if ((y + height / 2) > e.clientY && !e.target.classList.contains('title')) {\n      if (document.querySelector('.shadow_container')) {\n        document.querySelector('.shadow_container').remove();\n      }\n      shadowContainer = e.target.previousElementSibling.closest('.card') || e.target.previousElementSibling.closest('.title');\n      if (shadowContainer) {\n        shadowContainer.insertAdjacentElement('afterend', shadowElement);\n      }\n    }\n    if ((y + height / 2) < e.clientY) {\n      if (document.querySelector('.shadow_container')) {\n        document.querySelector('.shadow_container').remove();\n      }\n      shadowContainer = e.target.nextElementSibling.closest('.card') || e.target.nextElementSibling.closest('.add_card');\n      if (shadowContainer) {\n        shadowContainer.insertAdjacentElement('beforebegin', shadowElement);\n      }\n    }\n  }\n};\n\nconst onMouseUp = (e) => {\n  const mouseUpColumn = e.target.closest('.column');\n\n  if (e.target.classList.contains('shadow_container') || (document.querySelector('.shadow_container'))) {\n    const shadowContainer = mouseUpColumn.querySelector('.shadow_container');\n    mouseUpColumn.insertBefore(actualElement, shadowContainer);\n  }\n\n  actualElement.style.width = null;\n  actualElement.style.height = null;\n\n  actualElement.classList.remove('dragged');\n  actualElement = undefined;\n\n  if (document.querySelector('.shadow_container')) {\n    document.querySelector('.shadow_container').remove();\n  }\n\n  document.querySelector('.app_container').classList.remove('allocation');\n  document.documentElement.removeEventListener('mouseup', onMouseUp);\n  document.documentElement.removeEventListener('mousemove', onMouseMove);\n\n  document.addEventListener('mousemove', cardInFocus);\n};\n\nconst columns = document.querySelectorAll('.column');\n\ncolumns.forEach((column) => {\n  column.addEventListener('mousemove', cardInFocus);\n  column.addEventListener('mousedown', (e) => {\n    // e.preventDefault();\n    if (e.target.closest('.card')) {\n      document.querySelector('.app_container').classList.add('allocation');\n      actualElement = e.target.closest('.card');\n\n      const {\n        width, height, top, left,\n      } = actualElement.getBoundingClientRect();\n\n      actualElement.classList.add('dragged');\n      actualElement.style.top = `${top}px`;\n      actualElement.style.left = `${left}px`;\n\n      actualElement.style.width = `${width}px`;\n      actualElement.style.height = `${height}px`;\n\n      document.documentElement.removeEventListener('mousemove', cardInFocus);\n      document.documentElement.addEventListener('mousemove', onMouseMove);\n      document.documentElement.addEventListener('mouseup', onMouseUp);\n    }\n  });\n});\n"],"names":["CardManager","constructor","this","columnTodo","document","querySelector","columnInProgress","columnDone","renderCard","column","text","containerCard","createElement","textCard","classList","add","textContent","parentNode","insertBefore","prepend","defaultContent","actionDefault","forEach","el","Render","querySelectorAll","addEventListener","e","preventDefault","parentElement","div","h2","textarea","value","containerButton","buttonAdd","buttonClose","trim","concat","className","slice","remove","append","createAddCard","cardInFocus","activeCard","target","closest","columnInFokus","closed","createClosedElement","width","getBoundingClientRect","style","top","offsetTop","left","offsetLeft","insertAdjacentElement","actualElement","onMouseMove","contains","clientX","clientY","y","height","shadowElement","element","createShadowElement","shadowContainer","previousElementSibling","nextElementSibling","onMouseUp","mouseUpColumn","undefined","documentElement","removeEventListener"],"sourceRoot":""}